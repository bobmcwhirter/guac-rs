fragment allPkgTree on Package {
  id
  type
  namespaces {
    id
    namespace
    names {
      id
      name
      versions {
        id
        version
        qualifiers {
          key
          value
        }
        subpath
      }
    }
  }
}

mutation IngestPackage($package: PkgInputSpec!) {
  ingestPackage(pkg: $package) {
    ...allPkgTree
  }
}

query QueryPackage($package: PkgSpec!) {
  packages(pkgSpec: $package) {
    ...allPkgTree
  }
}

